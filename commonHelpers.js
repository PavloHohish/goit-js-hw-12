import{S as f,i as b,a as h}from"./assets/vendor-27a70389.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const c of n.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function o(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerPolicy&&(n.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?n.credentials="include":e.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(e){if(e.ep)return;e.ep=!0;const n=o(e);fetch(e.href,n)}})();const u=document.querySelector(".gallery"),v=document.querySelector(".load-more");function w(){u.innerHTML="";const t=document.querySelector("section"),r=document.createElement("span");return r.classList.add("loader"),t.appendChild(r),r}function y(t){t.forEach(o=>{const a=document.createElement("a");a.classList.add("gallery-item"),a.href=o.largeImageURL,a.dataset.lightbox="gallery";const e=document.createElement("img");e.src=o.webformatURL,e.alt=o.tags,e.loading="lazy",a.appendChild(e);const n=document.createElement("ul");n.classList.add("overlay"),[{label:"Likes",value:o.likes},{label:"Views",value:o.views},{label:"Comments",value:o.comments},{label:"Downloads",value:o.downloads}].forEach(p=>{const i=document.createElement("li");i.classList.add("desc"),i.innerHTML=`<p>${p.label}</p><p class="info">${p.value}</p>`,n.appendChild(i)}),a.appendChild(n),u.appendChild(a)});const r=new f(".gallery-item",{captions:!0,captionsData:"alt",captionPosition:"bottom",captionDelay:250});typeof f<"u"&&r.refresh()}function s(t){b.error({title:"Error",message:t,position:"topRight"})}function E(t){y(t)}function d(t){v.style.display=t?"inline-block":"none"}function P(){u.innerHTML=""}const S="43854622-acb16c386b106d84adf209c8f",q=15;let m=1;async function L(t){h.defaults.baseURL="https://pixabay.com";const r=new URLSearchParams({key:S,q:encodeURIComponent(t),image_type:"photo",orientation:"horizontal",safesearch:"true",per_page:q,page:m});try{const a=(await h.get("/api/",{params:r})).data;return a.hits.length===0&&s("No images found"),a}catch(o){throw s("Failed to fetch images"),new Error(o.response.status)}}function C(){m=1}function I(){m+=1}const M=document.querySelector(".form"),g=document.querySelector(".search-input"),R=document.querySelector(".load-more");let l="";M.addEventListener("submit",async t=>{if(t.preventDefault(),l=g.value.trim(),l===""){s("Please enter a search term.");return}g.value="",C(),P(),d(!1);const r=w();try{const o=await L(l);y(o.hits),d(o.totalHits>o.hits.length),r.remove()}catch{r.remove()}});R.addEventListener("click",async()=>{I();try{const t=await L(l);E(t.hits);const r=document.querySelector(".gallery-item").getBoundingClientRect().height;window.scrollBy({top:r*2,behavior:"smooth"}),t.totalHits<=document.querySelectorAll(".gallery-item").length&&(d(!1),s("We're sorry, but you've reached the end of search results."))}catch(t){console.log(t),s("Failed to load more images")}});
//# sourceMappingURL=commonHelpers.js.map
