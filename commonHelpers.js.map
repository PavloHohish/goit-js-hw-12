{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst searchBtn = document.querySelector('.search-btn');\n\nexport function renderLoader() {\n  gallery.innerHTML = '';\n  searchBtn.disabled = true;\n  const section = document.querySelector('section');\n  const loader = document.createElement('span');\n  loader.classList.add('loader');\n  section.appendChild(loader);\n  return loader;\n}\n\nexport function renderImages(images) {\n  images.forEach(image => {\n    const imageLink = document.createElement('a');\n    imageLink.classList.add('gallery-item');\n    imageLink.href = image.largeImageURL;\n    imageLink.dataset.lightbox = 'gallery';\n\n    const img = document.createElement('img');\n    img.src = image.webformatURL;\n    img.alt = image.tags;\n    img.loading = 'lazy';\n    imageLink.appendChild(img);\n\n    const overlay = document.createElement('ul');\n    overlay.classList.add('overlay');\n\n    const imageProperties = [\n      { label: 'Likes', value: image.likes },\n      { label: 'Views', value: image.views },\n      { label: 'Comments', value: image.comments },\n      { label: 'Downloads', value: image.downloads },\n    ];\n\n    imageProperties.forEach(property => {\n      const listItem = document.createElement('li');\n      listItem.classList.add('desc');\n      listItem.innerHTML = `<p>${property.label}</p><p class=\"info\">${property.value}</p>`;\n      overlay.appendChild(listItem);\n    });\n\n    imageLink.appendChild(overlay);\n\n    gallery.appendChild(imageLink);\n\n    searchBtn.disabled = false;\n  });\n\n  const lightbox = new SimpleLightbox('.gallery-item', {\n    captions: true,\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n  });\n\n  if (typeof SimpleLightbox !== 'undefined') {\n    SimpleLightbox.refresh();\n  }\n}\n\nexport function showErrorToast(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n    position: 'topRight',\n  });\n}\n","import { showErrorToast } from './render-functions.js';\n\nexport function fetchImages(keyword) {\n  const apiKey = '43854622-acb16c386b106d84adf209c8f';\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${encodeURIComponent(\n    keyword\n  )}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        showErrorToast('No images found');\n      }\n      return data.hits;\n    });\n}\n","import { fetchImages } from './js/pixabay-api.js';\nimport {\n  renderImages,\n  showErrorToast,\n  renderLoader,\n} from './js/render-functions.js';\n\nconst form = document.querySelector('.form');\nconst searchInput = document.querySelector('.search-input');\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const keyword = searchInput.value.trim();\n\n  if (keyword === '') {\n    showErrorToast('Please enter a search term.');\n    return;\n  }\n\n  const loader = renderLoader();\n\n  fetchImages(keyword)\n    .then(images => {\n      renderImages(images);\n      loader.remove();\n    })\n    .catch(error => {\n      loader.remove();\n    });\n});\n"],"names":["gallery","searchBtn","renderLoader","section","loader","renderImages","images","image","imageLink","img","overlay","property","listItem","SimpleLightbox","showErrorToast","message","iziToast","fetchImages","keyword","url","response","data","form","searchInput","event","error"],"mappings":"6vBAKA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAY,SAAS,cAAc,aAAa,EAE/C,SAASC,GAAe,CAC7BF,EAAQ,UAAY,GACpBC,EAAU,SAAW,GACrB,MAAME,EAAU,SAAS,cAAc,SAAS,EAC1CC,EAAS,SAAS,cAAc,MAAM,EAC5C,OAAAA,EAAO,UAAU,IAAI,QAAQ,EAC7BD,EAAQ,YAAYC,CAAM,EACnBA,CACT,CAEO,SAASC,EAAaC,EAAQ,CACnCA,EAAO,QAAQC,GAAS,CACtB,MAAMC,EAAY,SAAS,cAAc,GAAG,EAC5CA,EAAU,UAAU,IAAI,cAAc,EACtCA,EAAU,KAAOD,EAAM,cACvBC,EAAU,QAAQ,SAAW,UAE7B,MAAMC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMF,EAAM,aAChBE,EAAI,IAAMF,EAAM,KAChBE,EAAI,QAAU,OACdD,EAAU,YAAYC,CAAG,EAEzB,MAAMC,EAAU,SAAS,cAAc,IAAI,EAC3CA,EAAQ,UAAU,IAAI,SAAS,EAEP,CACtB,CAAE,MAAO,QAAS,MAAOH,EAAM,KAAO,EACtC,CAAE,MAAO,QAAS,MAAOA,EAAM,KAAO,EACtC,CAAE,MAAO,WAAY,MAAOA,EAAM,QAAU,EAC5C,CAAE,MAAO,YAAa,MAAOA,EAAM,SAAW,CACpD,EAEoB,QAAQI,GAAY,CAClC,MAAMC,EAAW,SAAS,cAAc,IAAI,EAC5CA,EAAS,UAAU,IAAI,MAAM,EAC7BA,EAAS,UAAY,MAAMD,EAAS,KAAK,uBAAuBA,EAAS,KAAK,OAC9ED,EAAQ,YAAYE,CAAQ,CAClC,CAAK,EAEDJ,EAAU,YAAYE,CAAO,EAE7BV,EAAQ,YAAYQ,CAAS,EAE7BP,EAAU,SAAW,EACzB,CAAG,EAEgB,IAAIY,EAAe,gBAAiB,CACnD,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAG,EAEG,OAAOA,EAAmB,KAC5BA,EAAe,QAAO,CAE1B,CAEO,SAASC,EAAeC,EAAS,CACtCC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,EACT,SAAU,UACd,CAAG,CACH,CCvEO,SAASE,EAAYC,EAAS,CAEnC,MAAMC,EAAM,qEAA4C,mBACtDD,CACD,CAAA,2DAED,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,IACAA,EAAK,KAAK,SAAW,GACvBP,EAAe,iBAAiB,EAE3BO,EAAK,KACb,CACL,CCdA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAc,SAAS,cAAc,eAAe,EAE1DD,EAAK,iBAAiB,SAAUE,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMN,EAAUK,EAAY,MAAM,KAAI,EAEtC,GAAIL,IAAY,GAAI,CAClBJ,EAAe,6BAA6B,EAC5C,MACD,CAED,MAAMV,EAASF,IAEfe,EAAYC,CAAO,EAChB,KAAKZ,GAAU,CACdD,EAAaC,CAAM,EACnBF,EAAO,OAAM,CACnB,CAAK,EACA,MAAMqB,GAAS,CACdrB,EAAO,OAAM,CACnB,CAAK,CACL,CAAC"}